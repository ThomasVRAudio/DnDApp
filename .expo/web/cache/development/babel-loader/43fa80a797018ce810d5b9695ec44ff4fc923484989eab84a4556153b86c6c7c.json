{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Colors from \"../../styles/Colors\";\nimport { database } from \"../database\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AbilityModifiers = function AbilityModifiers(props) {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var fetchData = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var _data = yield database.GetData(\"Modifiers\");\n        setData(_data);\n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    });\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    fetchData();\n  }, []);\n  var onConfirmChange = function onConfirmChange(name, amount) {\n    database.UpdateTable(\"Modifiers\", name, \"amount\", amount);\n    props.setModifiersChanged(!props.modifiersChanged);\n    fetchData();\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: data == null ? void 0 : data.map(function (ability, index) {\n      return _jsxs(View, {\n        style: styles.block,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: ability.name\n        }), _jsx(TextInput, {\n          onSubmitEditing: function onSubmitEditing(e) {\n            onConfirmChange(ability.name, parseInt(e.nativeEvent.text));\n          },\n          style: styles.number,\n          children: ability.amount\n        }), _jsx(Text, {\n          style: styles.modifier,\n          children: Math.floor((ability.amount - 10) / 2) >= 0 ? `+${Math.floor((ability.amount - 10) / 2)}` : Math.floor((ability.amount - 10) / 2)\n        })]\n      }, index);\n    })\n  });\n};\nexport default AbilityModifiers;\nvar styles = StyleSheet.create({\n  container: {\n    width: 350,\n    height: 250,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  block: {\n    backgroundColor: Colors.secundary,\n    flexDirection: \"column\",\n    borderRadius: 7,\n    paddingVertical: 12,\n    width: \"30%\",\n    margin: 5,\n    elevation: 5,\n    shadowRadius: 10,\n    alignItems: \"center\",\n    height: \"42%\",\n    justifyContent: \"space-between\"\n  },\n  title: {\n    fontFamily: \"Regular\",\n    color: Colors.primary,\n    fontSize: 13,\n    textAlign: \"center\"\n  },\n  number: {\n    fontFamily: \"Regular\",\n    color: Colors.Tertiary,\n    fontSize: 20,\n    textAlign: \"center\"\n  },\n  modifier: {\n    fontFamily: \"Regular\",\n    color: Colors.primary,\n    fontSize: 16,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","StyleSheet","TextInput","Colors","database","jsx","_jsx","jsxs","_jsxs","AbilityModifiers","props","_useState","_useState2","_slicedToArray","data","setData","fetchData","_ref","_asyncToGenerator","GetData","error","console","apply","arguments","onConfirmChange","name","amount","UpdateTable","setModifiersChanged","modifiersChanged","style","styles","container","children","map","ability","index","block","title","onSubmitEditing","e","parseInt","nativeEvent","text","number","modifier","Math","floor","create","width","height","flexDirection","flexWrap","justifyContent","alignItems","backgroundColor","secundary","borderRadius","paddingVertical","margin","elevation","shadowRadius","fontFamily","color","primary","fontSize","textAlign","Tertiary"],"sources":["D:/Users/Thomas/Documents/Programming Projects/Mobile/DnD App/DnDApp3/DnDApp/components/StatScreen/AbilityModifiers.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, Text, StyleSheet, TextInput } from \"react-native\";\r\nimport Colors from \"../../styles/Colors\";\r\nimport { ModifierData } from \"../DataInterfaces\";\r\nimport { database } from \"../database\";\r\n\r\ninterface Props {\r\n  setModifiersChanged: (bool: boolean) => void;\r\n  modifiersChanged: boolean;\r\n}\r\n\r\nconst AbilityModifiers = (props: Props) => {\r\n  const [data, setData] = useState<ModifierData[] | null>(null);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const data = await database.GetData<ModifierData>(\"Modifiers\");\r\n      setData(data);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const onConfirmChange = (name: string, amount: number) => {\r\n    database.UpdateTable(\"Modifiers\", name, \"amount\", amount);\r\n    props.setModifiersChanged(!props.modifiersChanged);\r\n    fetchData();\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {data?.map((ability, index) => (\r\n        <View style={styles.block} key={index}>\r\n          <Text style={styles.title}>{ability.name}</Text>\r\n          <TextInput\r\n            onSubmitEditing={(e) => {\r\n              onConfirmChange(ability.name, parseInt(e.nativeEvent.text));\r\n            }}\r\n            style={styles.number}\r\n          >\r\n            {ability.amount}\r\n          </TextInput>\r\n          <Text style={styles.modifier}>\r\n            {Math.floor((ability.amount - 10) / 2) >= 0\r\n              ? `+${Math.floor((ability.amount - 10) / 2)}`\r\n              : Math.floor((ability.amount - 10) / 2)}\r\n          </Text>\r\n        </View>\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default AbilityModifiers;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: 350,\r\n    height: 250,\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  block: {\r\n    backgroundColor: Colors.secundary,\r\n    flexDirection: \"column\",\r\n    borderRadius: 7,\r\n    paddingVertical: 12,\r\n    width: \"30%\",\r\n    margin: 5,\r\n    elevation: 5,\r\n    shadowRadius: 10,\r\n    alignItems: \"center\",\r\n    height: \"42%\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Regular\",\r\n    color: Colors.primary,\r\n    fontSize: 13,\r\n    textAlign: \"center\",\r\n  },\r\n  number: {\r\n    fontFamily: \"Regular\",\r\n    color: Colors.Tertiary,\r\n    fontSize: 20,\r\n    textAlign: \"center\",\r\n  },\r\n  modifier: {\r\n    fontFamily: \"Regular\",\r\n    color: Colors.primary,\r\n    fontSize: 16,\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}